var ve=Object.defineProperty,fe=Object.defineProperties;var me=Object.getOwnPropertyDescriptors;var oe=Object.getOwnPropertySymbols;var ge=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable;var se=(e,t,n)=>t in e?ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q=(e,t)=>{for(var n in t||(t={}))ge.call(t,n)&&se(e,n,t[n]);if(oe)for(var n of oe(t))ye.call(t,n)&&se(e,n,t[n]);return e},x=(e,t)=>fe(e,me(t));import{n as V,u as j,o as k,v as I,A as W,y as ee,r as s,F as T,G as N,p as u,q as g,w as r,V as $,t as a,I as A,aE as be,B as S,Y as P,K as B,L as ae,aB as J,P as C,C as O,l as te,$ as G,ax as $e,an as he,E as M,O as re,aG as ie,U as le,bf as ke,S as we,D as Se,M as Oe,N as Ie,a1 as Ve,a2 as Ce}from"./vendor.c46e17d6.js";import{u as Le,a as ue,_ as L,b as ce,g as de,c as K,d as E,e as Y,M as Be,t as De,f as Ue,h as Ae,i as Ne,j as je,k as pe,l as Me,H as Re,m as Te}from"../index.b5d16ba8.js";import"./use-sync.864aa3cf.js";const Ee=V({setup(){const{t:e}=j(),t=Le(),n=ue(),c=k(()=>{var p;return n.settings===null||!((p=n.settings)==null?void 0:p.project_logo)?null:ce(de()+`assets/${n.settings.project_logo}`)}),_=I(!1),{queueHasItems:l}=W(t);ee(()=>l.value,p=>{p&&(_.value=!0)});const i=k(()=>{var p;return(p=n.settings)==null?void 0:p.project_url}),o=k(()=>{var p;return((p=n.settings)==null?void 0:p.project_url)?e("view_project"):!1});return{customLogoPath:c,showLoader:_,stopSpinnerIfQueueIsEmpty:d,url:i,urlTooltip:o};function d(){l.value===!1&&(_.value=!1)}}}),Fe=["src"];function qe(e,t,n,c,_,l){const i=s("v-progress-linear"),o=T("tooltip");return N((u(),g(ae(e.url?"a":"div"),{href:e.url,target:e.url?"_blank":void 0,rel:e.url?"noopener noreferrer":void 0,class:B(["module-bar-logo",{loading:e.showLoader}])},{default:r(()=>[e.customLogoPath?(u(),$(P,{key:0},[a(be,{name:"fade"},{default:r(()=>[e.showLoader?(u(),g(i,{key:0,indeterminate:"",rounded:"",onAnimationiteration:e.stopSpinnerIfQueueIsEmpty},null,8,["onAnimationiteration"])):A("",!0)]),_:1}),S("img",{class:"custom-logo",src:e.customLogoPath,alt:"Project Logo"},null,8,Fe)],64)):(u(),$("div",{key:1,class:B(["logo",{running:e.showLoader}]),onAnimationiteration:t[0]||(t[0]=(...d)=>e.stopSpinnerIfQueueIsEmpty&&e.stopSpinnerIfQueueIsEmpty(...d))},null,34))]),_:1},8,["href","target","rel","class"])),[[o,e.urlTooltip,void 0,{right:!0}]])}var He=L(Ee,[["render",qe],["__scopeId","data-v-a98d38ac"]]);const Pe=V({setup(){const{t:e}=j(),t=K(),n=E(),{notificationsDrawerOpen:c}=J(t),{unread:_}=J(n),l=Y(),i=I(!1),o=k(()=>l.currentUser===null||l.currentUser.avatar===null?null:ce(de()+`assets/${l.currentUser.avatar.id}?key=system-medium-cover`)),d=k(()=>{var h;return`/users/${(h=l.currentUser)==null?void 0:h.id}`}),p=k(()=>"/logout"),f=l.fullName;return{t:e,userFullName:f,avatarURL:o,userProfileLink:d,signOutActive:i,signOutLink:p,notificationsDrawerOpen:c,unread:_}}}),Ge={class:"module-bar-avatar"},ze=["src","alt"];function Qe(e,t,n,c,_,l){const i=s("v-icon"),o=s("v-button"),d=s("v-badge"),p=s("v-card-title"),f=s("v-card-actions"),v=s("v-card"),h=s("v-dialog"),m=s("v-avatar"),y=s("router-link"),D=s("v-hover"),w=T("tooltip");return u(),$("div",Ge,[a(d,{value:e.unread,disabled:e.unread==0,class:"notifications-badge"},{default:r(()=>[N(a(o,{tile:"",icon:"","x-large":"",class:"notifications",onClick:t[0]||(t[0]=b=>e.notificationsDrawerOpen=!0)},{default:r(()=>[a(i,{name:"notifications"})]),_:1},512),[[w,e.t("notifications"),void 0,{right:!0}]])]),_:1},8,["value","disabled"]),a(D,null,{default:r(({hover:b})=>[a(h,{modelValue:e.signOutActive,"onUpdate:modelValue":t[2]||(t[2]=U=>e.signOutActive=U),onEsc:t[3]||(t[3]=U=>e.signOutActive=!1)},{activator:r(({on:U})=>[N(a(o,{tile:"",icon:"","x-large":"",class:B([{show:b},"sign-out"]),onClick:U},{default:r(()=>[a(i,{name:"logout"})]),_:2},1032,["class","onClick"]),[[w,e.t("sign_out"),void 0,{right:!0}]])]),default:r(()=>[a(v,null,{default:r(()=>[a(p,null,{default:r(()=>[C(O(e.t("sign_out_confirm")),1)]),_:1}),a(f,null,{default:r(()=>[a(o,{secondary:"",onClick:t[1]||(t[1]=U=>e.signOutActive=!e.signOutActive)},{default:r(()=>[C(O(e.t("cancel")),1)]),_:1}),a(o,{to:e.signOutLink},{default:r(()=>[C(O(e.t("sign_out")),1)]),_:1},8,["to"])]),_:1})]),_:1})]),_:2},1032,["modelValue"]),a(y,{to:e.userProfileLink},{default:r(()=>[N(a(m,{tile:"",large:"",class:B({"no-avatar":!e.avatarURL})},{default:r(()=>[e.avatarURL?(u(),$("img",{key:0,src:e.avatarURL,alt:e.userFullName,class:"avatar-image"},null,8,ze)):(u(),g(i,{key:1,name:"account_circle",outline:""}))]),_:1},8,["class"]),[[w,e.userFullName,void 0,{right:!0}]])]),_:1},8,["to"])]),_:1})])}var We=L(Pe,[["render",Qe],["__scopeId","data-v-6671e61b"]]);const Je=V({components:{ModuleBarLogo:He,ModuleBarAvatar:We},setup(){const e=ue(),{modules:t}=Ue(),n=k(()=>t.value.map(_=>_.id));return{modules:k(()=>{var _;return e.settings?((_=e.settings.module_bar)!=null?_:Be).filter(l=>l.type==="link"?!0:l.enabled&&n.value.includes(l.id)).map(l=>{if(l.type==="link"){const o=te.exports.omit(l,["url"]);return l.url.startsWith("/")?o.to=l.url:o.href=l.url,De(o)}const i=t.value.find(o=>o.id===l.id);return x(Q(Q({},l),t.value.find(o=>o.id===l.id)),{to:`/${i.id}`})}):[]})}}}),Ke={class:"module-bar"},Ye={class:"modules"};function Xe(e,t,n,c,_,l){const i=s("module-bar-logo"),o=s("v-icon"),d=s("v-button"),p=s("module-bar-avatar"),f=T("tooltip");return u(),$("div",Ke,[a(i),S("div",Ye,[(u(!0),$(P,null,G(e.modules,v=>N((u(),g(d,{key:v.id,icon:"","x-large":"",to:v.to,href:v.href,tile:"",style:$e(v.color?{"--v-button-color-active":v.color}:null)},{default:r(()=>[a(o,{name:v.icon,outline:""},null,8,["name"])]),_:2},1032,["to","href","style"])),[[f,v.name,void 0,{right:!0}]])),128))]),a(p)])}var Ze=L(Je,[["render",Xe],["__scopeId","data-v-dd9f73e8"]]);const xe=V({props:{sidebarOpen:{type:Boolean,default:!1}},setup(e){const t=I([]),n=I(!1);return ee(()=>e.sidebarOpen,async c=>{c===!1?t.value=[]:(n.value=!0,await he(),n.value=!1)}),{openDetail:t,mandatory:n}}});function et(e,t,n,c,_,l){const i=s("v-item-group");return u(),g(i,{modelValue:e.openDetail,"onUpdate:modelValue":t[0]||(t[0]=o=>e.openDetail=o),class:"sidebar-detail-group",scope:"sidebar-detail",mandatory:e.mandatory},{default:r(()=>[M(e.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue","mandatory"])}var tt=L(xe,[["render",et],["__scopeId","data-v-ebb6371e"]]),F=1e3,q=F*60,H=q*60,R=H*24,nt=R*7,ot=R*365.25,X=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return st(e);if(n==="number"&&isFinite(e))return t.long?rt(e):at(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function st(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var n=parseFloat(t[1]),c=(t[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return n*ot;case"weeks":case"week":case"w":return n*nt;case"days":case"day":case"d":return n*R;case"hours":case"hour":case"hrs":case"hr":case"h":return n*H;case"minutes":case"minute":case"mins":case"min":case"m":return n*q;case"seconds":case"second":case"secs":case"sec":case"s":return n*F;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function at(e){var t=Math.abs(e);return t>=R?Math.round(e/R)+"d":t>=H?Math.round(e/H)+"h":t>=q?Math.round(e/q)+"m":t>=F?Math.round(e/F)+"s":e+"ms"}function rt(e){var t=Math.abs(e);return t>=R?Z(e,t,R,"day"):t>=H?Z(e,t,H,"hour"):t>=q?Z(e,t,q,"minute"):t>=F?Z(e,t,F,"second"):e+" ms"}function Z(e,t,n,c){var _=t>=n*1.5;return Math.round(e/n)+" "+c+(_?"s":"")}const it=V({setup(){const{t:e}=j(),t=Ae(),n=k(()=>{const o=te.exports.sortBy(t.latency,["timestamp"]);return o[o.length-1]}),c=k(()=>{if(!t.latency||t.latency.length===0)return 0;const o=te.exports.sortBy(t.latency,["timestamp"]),d=o.slice(Math.max(o.length-5,0));let p=0;for(const{latency:f}of d)p+=f;return Math.round(p/d.length)}),_=k(()=>c.value<=250?4:c.value>250&&c.value<=500?3:c.value>500&&c.value<=750?2:1),l=k(()=>{switch(_.value){case 4:return`${e("connection_excellent")}
(${X(c.value)} ${e("latency")})`;case 3:return`${e("connection_good")}
(${X(c.value)} ${e("latency")})`;case 2:return`${e("connection_fair")}
(${X(c.value)} ${e("latency")})`;case 1:return`${e("connection_poor")}
(${X(c.value)} ${e("latency")})`;default:return null}});return{icon:k(()=>{switch(_.value){case 4:return"signal_wifi_4_bar";case 3:return"signal_wifi_3_bar";case 2:return"signal_wifi_2_bar";case 1:return"signal_wifi_1_bar";default:return null}}),lastLatency:n,latencyTooltip:l}}}),lt={class:"latency-indicator"};function ut(e,t,n,c,_,l){const i=s("v-progress-circular"),o=s("v-icon"),d=T("tooltip");return N((u(),$("div",lt,[e.lastLatency?(u(),g(o,{key:1,name:e.icon},null,8,["name"])):(u(),g(i,{key:0,indeterminate:""}))],512)),[[d,e.latencyTooltip,void 0,{bottom:!0,end:!0}]])}var ct=L(it,[["render",ut],["__scopeId","data-v-2cfd5c8b"]]);const dt=V({components:{LatencyIndicator:ct},setup(){const e=Ne();return{name:k(()=>{var n,c;return(c=(n=e.info)==null?void 0:n.project)==null?void 0:c.project_name})}}}),pt={class:"project-info"},_t={class:"name"};function vt(e,t,n,c,_,l){const i=s("latency-indicator");return u(),$("div",pt,[a(i),S("span",_t,O(e.name),1)])}var ft=L(dt,[["render",vt],["__scopeId","data-v-08488eb6"]]);const mt=V({props:{id:{type:String,required:!0},title:{type:String,required:!0},text:{type:String,default:null},icon:{type:String,default:null},type:{type:String,default:"info",validator:e=>["info","success","warning","error"].includes(e)},tail:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},showClose:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},progress:{type:Number,default:void 0}},setup(e){const t=E();return{close:n};function n(){e.showClose===!0&&t.remove(e.id)}}}),gt={key:0,class:"icon"},yt={class:"content"},bt={class:"title selectable"},$t={key:0,class:"text selectable"};function ht(e,t,n,c,_,l){const i=s("v-progress-circular"),o=s("v-icon");return u(),$("div",{class:B(["notification-item",[e.type,{tail:e.tail,dense:e.dense}]]),onClick:t[0]||(t[0]=(...d)=>e.close&&e.close(...d))},[e.loading||e.progress||e.icon?(u(),$("div",gt,[e.loading?(u(),g(i,{key:0,indeterminate:"",small:""})):e.progress?(u(),g(i,{key:1,small:"",value:e.progress},null,8,["value"])):(u(),g(o,{key:2,name:e.icon},null,8,["name"]))])):A("",!0),S("div",yt,[S("p",bt,O(e.title),1),e.text?(u(),$("p",$t,O(e.text),1)):A("",!0)]),e.showClose?(u(),g(o,{key:1,name:"close",clickable:"",class:"close",onClick:e.close},null,8,["onClick"])):A("",!0)],2)}var _e=L(mt,[["render",ht],["__scopeId","data-v-43553e80"]]);const kt=V({components:{NotificationItem:_e},props:{dense:{type:Boolean,default:!1}},setup(){const e=E();return{queue:W(e).queue}}});function wt(e,t,n,c,_,l){const i=s("notification-item");return u(),g(ie,{class:"notifications-group",name:"slide-fade",tag:"div"},{default:r(()=>[M(e.$slots,"default",{},void 0,!0),(u(!0),$(P,null,G(e.queue,(o,d)=>(u(),g(i,re({key:o.id},o,{tail:d===e.queue.length-1,dense:e.dense,"show-close":o.persist===!0&&o.closeable!==!1}),null,16,["tail","dense","show-close"]))),128))]),_:3})}var St=L(kt,[["render",wt],["__scopeId","data-v-31bc6bbb"]]);const Ot=V({props:{to:{type:String,default:null},icon:{type:String,default:"box"},active:{type:Boolean,default:!1}},emits:["click"],setup(){const e=K(),{sidebarOpen:t}=W(e);return{sidebarOpen:t}}}),It={class:"icon"},Vt={key:0,class:"title"};function Ct(e,t,n,c,_,l){const i=s("v-icon");return u(),g(ae(e.to?"router-link":"button"),{class:B(["sidebar-button",{active:e.active}]),onClick:t[0]||(t[0]=o=>e.$emit("click",o))},{default:r(()=>[S("div",It,[a(i,{name:e.icon,outline:""},null,8,["name"])]),e.sidebarOpen?(u(),$("div",Vt,[M(e.$slots,"default",{},void 0,!0)])):A("",!0)]),_:3},8,["class"])}var Lt=L(Ot,[["render",Ct],["__scopeId","data-v-3f4d4d50"]]);const Bt=V({components:{SidebarButton:Lt,NotificationItem:_e},props:{sidebarOpen:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(){const{t:e}=j(),t=E();return{t:e,lastFour:t.lastFour}}}),Dt={class:"notifications-preview"},Ut={key:0,class:"inline"},At={class:"padding-box"};function Nt(e,t,n,c,_,l){const i=s("router-link"),o=s("notification-item"),d=s("transition-expand"),p=s("sidebar-button"),f=T("tooltip");return u(),$("div",Dt,[a(d,{tag:"div"},{default:r(()=>[e.modelValue?(u(),$("div",Ut,[S("div",At,[a(i,{class:B(["link",{"has-items":e.lastFour.length>0}]),to:"/activity"},{default:r(()=>[C(O(e.t("show_all_activity")),1)]),_:1},8,["class"]),a(ie,{tag:"div",name:"notification",class:"transition"},{default:r(()=>[(u(!0),$(P,null,G(e.lastFour,v=>(u(),g(o,re({key:v.id},v),null,16))),128))]),_:1})])])):A("",!0)]),_:1}),N(a(p,{active:e.modelValue,class:"toggle",icon:"pending_actions",onClick:t[0]||(t[0]=v=>e.$emit("update:modelValue",!e.modelValue))},{default:r(()=>[C(O(e.t("activity_log")),1)]),_:1},8,["active"]),[[f,e.t("notifications"),void 0,{left:!0}]])])}var jt=L(Bt,[["render",Nt],["__scopeId","data-v-7a71c8d9"]]);const Mt=V({setup(){const{t:e}=j(),{parsedInfo:t}=je(),n=E(),c=Y(),_=k(()=>n.dialogs);return{t:e,notifications:_,admin:c.isAdmin,done:i,getGitHubIssueLink:l};function l(o,d){var f,v,h,m;const p=`<!-- Please put a detailed explanation of the problem here. -->

---

### Project details
Directus Version: ${(f=t.value)==null?void 0:f.directus.version}
Environment: production
OS: ${(v=t.value)==null?void 0:v.os.type} ${(h=t.value)==null?void 0:h.os.version}
Node: ${(m=t.value)==null?void 0:m.node.version}

### Error

Title: ${d.title||"none"}
Message: ${d.text||"none"}

<details>
<summary>Stack Trace</summary>
<pre>
${JSON.stringify(d.error,Object.getOwnPropertyNames(d.error),2)}
</pre>
</details>
			`;return`https://github.com/directus/directus/issues/new?body=${encodeURIComponent(p)}`}function i(o){n.remove(o)}}}),Rt={class:"notification-dialogs"},Tt=["href"];function Et(e,t,n,c,_,l){const i=s("v-card-title"),o=s("v-error"),d=s("v-card-text"),p=s("v-button"),f=s("v-card-actions"),v=s("v-card"),h=s("v-dialog");return u(),$("div",Rt,[(u(!0),$(P,null,G(e.notifications,m=>(u(),g(h,{key:m.id,"model-value":!0,persist:""},{default:r(()=>[a(v,{class:B([m.type])},{default:r(()=>[a(i,null,{default:r(()=>[C(O(m.title),1)]),_:2},1024),m.text?(u(),g(d,{key:0},{default:r(()=>[C(O(m.text)+" ",1),m.error?(u(),g(o,{key:0,error:m.error},null,8,["error"])):A("",!0)]),_:2},1024)):A("",!0),a(f,null,{default:r(()=>[m.type==="error"&&e.admin&&m.code==="UNKNOWN"?(u(),g(p,{key:0,secondary:""},{default:r(()=>[S("a",{target:"_blank",href:e.getGitHubIssueLink(m.id,m)},O(e.t("report_error")),9,Tt)]),_:2},1024)):A("",!0),a(p,{onClick:y=>e.done(m.id)},{default:r(()=>[C(O(e.t("dismiss")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["class"])]),_:2},1024))),128))])}var Ft=L(Mt,[["render",Et],["__scopeId","data-v-bb61b36a"]]);const qt=V({props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const{t}=j(),n=K(),c=Y(),_=E(),l=le(),i=I([]),o=I(0),d=I(!1),p=I(null),f=I([]),v=I(["inbox"]),{notificationsDrawerOpen:h}=J(n),m=I([{text:t("subject"),value:"subject",sortable:!1,width:300,align:"left"},{text:t("timestamp"),value:"timestampDistance",sortable:!1,width:180,align:"left"}]);return y(),ee([()=>e.modelValue,v],()=>y()),{tableHeaders:m,t,notificationsDrawerOpen:h,page:o,notifications:i,loading:d,error:p,selection:f,onRowClick:w,toggleArchive:D,tab:v};async function y(){d.value=!0;try{const b=await pe.get("/notifications",{params:{filter:{_and:[{recipient:{_eq:c.currentUser.id}},{status:{_eq:v.value[0]}}]},fields:["id","subject","collection","item","timestamp"],sort:["-timestamp"]}});await _.getUnreadCount();const U=b.data.data,z=[];for(const ne of U)z.push(x(Q({},ne),{timestampDistance:await Me(ke(ne.timestamp),new Date,{addSuffix:!0})}));i.value=z}catch(b){p.value=b}finally{d.value=!1}}async function D(){await pe.patch("/notifications",{keys:f.value.map(({id:b})=>b),data:{status:v.value[0]==="inbox"?"archived":"inbox"}}),await y(),f.value=[]}function w({item:b}){l.push(`/content/${b.collection}/${b.item}`),h.value=!1}}});function Ht(e,t,n,c,_,l){const i=s("v-icon"),o=s("v-button"),d=s("v-list-item-icon"),p=s("v-list-item-content"),f=s("v-tab"),v=s("v-tabs"),h=s("v-info"),m=s("v-table"),y=s("v-drawer"),D=T("tooltip");return u(),g(y,{modelValue:e.notificationsDrawerOpen,"onUpdate:modelValue":t[3]||(t[3]=w=>e.notificationsDrawerOpen=w),icon:"notifications",title:e.t("notifications"),onCancel:t[4]||(t[4]=w=>e.notificationsDrawerOpen=!1)},{actions:r(()=>[N(a(o,{icon:"",rounded:"",disabled:e.selection.length===0,warning:"",onClick:e.toggleArchive},{default:r(()=>[a(i,{name:e.tab[0]==="inbox"?"archive":"move_to_inbox"},null,8,["name"])]),_:1},8,["disabled","onClick"]),[[D,e.tab[0]==="inbox"?e.t("archive"):e.t("unarchive"),void 0,{bottom:!0}]])]),sidebar:r(()=>[a(v,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=w=>e.tab=w),vertical:""},{default:r(()=>[a(f,{value:"inbox"},{default:r(()=>[a(d,null,{default:r(()=>[a(i,{name:"inbox"})]),_:1}),a(p,null,{default:r(()=>[C(O(e.t("inbox")),1)]),_:1})]),_:1}),a(f,{value:"archived"},{default:r(()=>[a(d,null,{default:r(()=>[a(i,{name:"archive"})]),_:1}),a(p,null,{default:r(()=>[C(O(e.t("archive")),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),default:r(()=>[!e.loading&&e.notifications.length===0?(u(),g(h,{key:0,icon:"notifications",title:e.t("no_notifications"),center:""},{default:r(()=>[C(O(e.t("no_notifications_copy")),1)]),_:1},8,["title"])):(u(),g(m,{key:1,modelValue:e.selection,"onUpdate:modelValue":t[1]||(t[1]=w=>e.selection=w),headers:e.tableHeaders,"onUpdate:headers":t[2]||(t[2]=w=>e.tableHeaders=w),"show-select":"",loading:e.loading,items:e.notifications,"item-key":"id","onClick:row":e.onRowClick},null,8,["modelValue","headers","loading","items","onClick:row"]))]),_:1},8,["modelValue","title"])}var Pt=L(qt,[["render",Ht],["__scopeId","data-v-35078cbe"]]);const Gt=V({components:{ModuleBar:Ze,SidebarDetailGroup:tt,HeaderBar:Re,ProjectInfo:ft,NotificationsGroup:St,NotificationsPreview:jt,NotificationDialogs:Ft,NotificationsDrawer:Pt},props:{title:{type:String,default:null},smallHeader:{type:Boolean,default:!1}},setup(e){const{t}=j(),n=le(),{title:c}=W(e),_=I(!1),l=I(),i=Y(),o=K(),d=k(()=>{var y,D;return i.currentUser?((D=(y=i.currentUser)==null?void 0:y.role)==null?void 0:D.app_access)||!1:!0}),p=I(!1),{sidebarOpen:f,fullScreen:v}=J(o),h=k(()=>{var y;return((y=i.currentUser)==null?void 0:y.theme)||"auto"});return we("main-element",l),n.afterEach(async()=>{var y;(y=l.value)==null||y.scrollTo({top:0}),v.value=!1}),Te(c),{t,navOpen:_,contentEl:l,theme:h,sidebarOpen:f,openSidebar:m,notificationsPreviewActive:p,appAccess:d,fullScreen:v};function m(y){y.target&&y.target.classList.contains("close")===!1&&(f.value=!0)}}}),zt=e=>(Ve("data-v-30b662e5"),e=e(),Ce(),e),Qt=C("Switch User"),Wt={class:"module-nav alt-colors"},Jt={class:"module-nav-content"},Kt={id:"main-content",ref:"contentEl",class:"content"},Yt={class:"flex-container"},Xt=zt(()=>S("div",{class:"spacer"},null,-1));function Zt(e,t,n,c,_,l){const i=s("v-button"),o=s("v-info"),d=s("module-bar"),p=s("project-info"),f=s("header-bar"),v=s("sidebar-detail-group"),h=s("notifications-preview"),m=s("v-overlay"),y=s("notifications-drawer"),D=s("notifications-group"),w=s("notification-dialogs");return e.appAccess===!1?(u(),g(o,{key:0,center:"",title:e.t("no_app_access"),type:"danger",icon:"block"},{append:r(()=>[a(i,{to:"/logout"},{default:r(()=>[Qt]),_:1})]),default:r(()=>[C(O(e.t("no_app_access_copy"))+" ",1)]),_:1},8,["title"])):(u(),$("div",{key:1,class:B(["private-view",{theme:e.theme,"full-screen":e.fullScreen}])},[S("aside",{id:"navigation",role:"navigation","aria-label":"Module Navigation",class:B({"is-open":e.navOpen})},[a(d),S("div",Wt,[a(p),S("div",Jt,[M(e.$slots,"navigation",{},void 0,!0)])])],2),S("div",Kt,[a(f,{small:e.smallHeader,"show-sidebar-toggle":"",title:e.title,"onToggle:sidebar":t[0]||(t[0]=b=>e.sidebarOpen=!e.sidebarOpen),onPrimary:t[1]||(t[1]=b=>e.navOpen=!e.navOpen)},Se({_:2},[G(e.$slots,(b,U)=>({name:U,fn:r(z=>[M(e.$slots,U,Oe(Ie(z)),void 0,!0)])}))]),1032,["small","title"]),S("main",null,[M(e.$slots,"default",{},void 0,!0)])],512),S("aside",{id:"sidebar",role:"contentinfo",class:B(["alt-colors",{"is-open":e.sidebarOpen}]),"aria-label":"Module Sidebar",onClick:t[3]||(t[3]=(...b)=>e.openSidebar&&e.openSidebar(...b))},[S("div",Yt,[a(v,{"sidebar-open":e.sidebarOpen},{default:r(()=>[M(e.$slots,"sidebar",{},void 0,!0)]),_:3},8,["sidebar-open"]),Xt,a(h,{modelValue:e.notificationsPreviewActive,"onUpdate:modelValue":t[2]||(t[2]=b=>e.notificationsPreviewActive=b),"sidebar-open":e.sidebarOpen},null,8,["modelValue","sidebar-open"])])],2),a(m,{class:"nav-overlay",active:e.navOpen,onClick:t[4]||(t[4]=b=>e.navOpen=!1)},null,8,["active"]),a(m,{class:"sidebar-overlay",active:e.sidebarOpen,onClick:t[5]||(t[5]=b=>e.sidebarOpen=!1)},null,8,["active"]),a(y),e.notificationsPreviewActive===!1?(u(),g(D,{key:0,dense:e.sidebarOpen===!1},null,8,["dense"])):A("",!0),a(w)],2))}var on=L(Gt,[["render",Zt],["__scopeId","data-v-30b662e5"]]);export{on as PrivateView,on as default};
